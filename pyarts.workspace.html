

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyarts.workspace &mdash; pyarts 2.3.1286 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyarts.workspace.arts_agenda" href="generated/pyarts.workspace.arts_agenda.html" />
    <link rel="prev" title="API Reference" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pyarts
          

          
          </a>

          
            
            
              <div class="version">
                2.3.1286
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html#arts-interface">ARTS Interface</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">pyarts.workspace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-workspace-class">The Workspace Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#executing-controlfiles">Executing Controlfiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calling-workspace-methods">Calling Workspace Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#workspace-variables">Workspace Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/pyarts.workspace.arts_agenda.html">pyarts.workspace.arts_agenda</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/pyarts.workspace.Include.html">pyarts.workspace.Include</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/pyarts.workspace.Workspace.html">pyarts.workspace.Workspace</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#arts-xml-i-o">ARTS XML I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#arts-data-types">ARTS Data Types</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyarts</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API Reference</a> &raquo;</li>
        
      <li>pyarts.workspace</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pyarts.workspace.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pyarts.workspace">
<span id="pyarts-workspace"></span><h1>pyarts.workspace<a class="headerlink" href="#module-pyarts.workspace" title="Permalink to this headline">¶</a></h1>
<p>The <cite>workspace</cite> subpackage provides an interactive interface to ARTS and
can be used to directly call workspace methods and agendas as well as
access and manipulate workspace variables.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>The python interface needs access to the <code class="code docutils literal notranslate"><span class="pre">libarts_api.so</span></code> shared library, which
is located in the <cite>src</cite> subfolder of the ARTS build tree. The interface expects
the location of the ARTS build tree to be provided in the <code class="docutils literal notranslate"><span class="pre">ARTS_BUILD_PATH</span></code>
environment variable. For the <code class="code docutils literal notranslate"><span class="pre">libarts_api.so</span></code> to be built, ARTS needs to be
configured with <code class="code docutils literal notranslate"><span class="pre">-DENABLE_C_API=1</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -DENABLE_C_API<span class="o">=</span><span class="m">1</span> ... /path/to/arts
</pre></div>
</div>
</div>
<div class="section" id="the-workspace-class">
<h2>The Workspace Class<a class="headerlink" href="#the-workspace-class" title="Permalink to this headline">¶</a></h2>
<p>The main functionality of the interface is implemented by the Workspace class.
A Workspace object represents an ongoing ARTS simulation and is used to execute
controlfiles and workspace methods and access workspace variables</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arts.workspace</span> <span class="kn">import</span> <span class="n">Workspace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span> <span class="o">=</span> <span class="n">Workspace</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="executing-controlfiles">
<h2>Executing Controlfiles<a class="headerlink" href="#executing-controlfiles" title="Permalink to this headline">¶</a></h2>
<p>Controlfiles can be executed on a workspace using the
<code class="xref py py-func docutils literal notranslate"><span class="pre">execute_controlfile()</span></code> method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">execute_controlfile</span><span class="p">(</span><span class="s2">&quot;general.arts&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The search path for controlfiles is the current directory plus the paths
provided in the environment variable <code class="docutils literal notranslate"><span class="pre">ARTS_INCLUDE_PATH</span></code>. Controlfiles
are parsed only once and then cached. Thus, if a controlfile is modified
after it has been loaded, these changes will only be effective after a
restart of the python runtime.</p>
</div>
<div class="section" id="calling-workspace-methods">
<h2>Calling Workspace Methods<a class="headerlink" href="#calling-workspace-methods" title="Permalink to this headline">¶</a></h2>
<p>ARTS workspace methods are available as member functions of each Workspace
object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">AtmosphereSet1D</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">IndexSet</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">stokes_dim</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Arguments can be passed to a workspace function in three ways:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>As workspace variables using the attributes of the
workspace object, such as <code class="code docutils literal notranslate"><span class="pre">ws.stokes_dim</span></code> in the
example above.</p></li>
<li><p>Using one of the symbolic variables in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">arts.workspace.variables</span></code></p></li>
<li><p>Passing supported python objects directly</p></li>
</ol>
</div></blockquote>
<p>Arguments to a WSM can be passed using either positional or named arguments or both. If
positional arguments are provided at least all generic output and generic input arguments
must be given in order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">VectorNLogSpace</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">p_grid</span><span class="p">,</span> <span class="mi">361</span><span class="p">,</span> <span class="mf">500e2</span><span class="p">,</span> <span class="mf">0.1</span> <span class="p">)</span>
</pre></div>
</div>
<p>Keyword arguments to define generic input and output arguments. Available keywords are the
names of the generic outputs and inputs defined in methods.cc.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">abs_speciesSet</span><span class="p">(</span><span class="n">species</span><span class="o">=</span><span class="p">[</span> <span class="s2">&quot;O3&quot;</span> <span class="p">])</span>
</pre></div>
</div>
<p>Calls to supergeneric functions are resolved by the interface.</p>
</div>
<div class="section" id="workspace-variables">
<h2>Workspace Variables<a class="headerlink" href="#workspace-variables" title="Permalink to this headline">¶</a></h2>
<p>Symbolic representation of all workspace variables are available in the arts.workspace.variables
module as module attributes. The purpose of these is to be passed to workspace functions as placeholders
for variables in the workspace.</p>
<p>Variable objects can be associated to a workspace, which is the case for variables accessed as attributes
of a workspace, i.e. using for example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
<p>If that is the case their value can be accessed using the value() member function. In order
to print out a textual representation of the value, the print() member function can be used,
which will call the corresponding Print() ARTS WSV.</p>
<p>Workspace variables of the groups Vector, Matrix and Tensor with an associated workspace
implement the numpy array interface and can therefore be used just as any other numpy array.
In some cases, however, it may be necessary to explicitly create a view on the array using
numpy.asarray.</p>
</div>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarts.workspace.arts_agenda.html#pyarts.workspace.arts_agenda" title="pyarts.workspace.arts_agenda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arts_agenda</span></code></a>(func)</p></td>
<td><p>Parse python method as ARTS agenda</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarts.workspace.Include.html#pyarts.workspace.Include" title="pyarts.workspace.Include"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Include</span></code></a>(agenda)</p></td>
<td><p>Simple helper class to handle INCLUDE statements in agenda definitions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarts.workspace.Workspace.html#pyarts.workspace.Workspace" title="pyarts.workspace.Workspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Workspace</span></code></a>([verbosity, agenda_verbosity])</p></td>
<td><p>The Workspace class represents an ongoing ARTS simulation.</p></td>
</tr>
</tbody>
</table>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generated/pyarts.workspace.arts_agenda.html" class="btn btn-neutral float-right" title="pyarts.workspace.arts_agenda" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The Typhon and ARTS Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>